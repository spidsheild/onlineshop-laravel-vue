<script setup>
import { computed } from 'vue'
// import { useCartStore3 } from '@/stores/cart'
import { useCartStore3 } from '../stores/cart'
const cart = useCartStore3()
// const props = defineProps({ item: Object })
// const { item } = defineProps({ item: Object })

const { item } = defineProps({
    item: {
        type: Object,
        // required: true
    }

})

const price = computed(() => Number(item?.product.price))
const total = computed(() => price.value * item?.quantity)
</script>

<template>
    <div class="border rounded p-3">
        <!-- <pre>{{ item }}</pre> -->
        <!-- <h3 class="font-semibold">{{ item.name }}</h3> -->
        <!-- <h3 class="font-semibold">{{ item.product.title }}</h3> -->
        <h3 class="font-semibold">{{ item?.product.title }}</h3>

        <p class="text-sm text-gray-500">
            Ù‚ÛŒÙ…Øª ÙˆØ§Ø­Ø¯: {{ item?.product.price.toLocaleString() }} ØªÙˆÙ…Ø§Ù†
            <!-- Ù‚ÛŒÙ…Øª ÙˆØ§Ø­Ø¯: {{ price.toLocaleString() }} ØªÙˆÙ…Ø§Ù† -->
            <!-- {{ item?.price ? Number(item.price).toLocaleString() : 0 }} ØªÙˆÙ…Ø§Ù† -->
            <!-- {{ Number(item.product.price).toLocaleString() }} ØªÙˆÙ…Ø§Ù† -->
            <!-- {{ price.toLocaleString() }} ØªÙˆÙ…Ø§Ù† -->
        </p>

        <div class="flex items-center justify-between mt-2">
            <div class="flex items-center gap-2">
                <!-- <button @click="cart.decrease(item.id)" class="px-2 border">âˆ’</button> -->
                <!-- <button @click="cart.decrease(item?.product.id)" class="px-2 border">âˆ’</button> -->
                <button @click="cart.updateQuantity(item.product.id, item.quantity - 1)" class="px-2 border">âˆ’</button>
                <!-- <span>{{ item.quantity }}</span> -->
                <span>{{ item?.quantity }}</span>
                <!-- <input type="number" v-model="item.quantity" class="w-16 border rounded text-center" /> -->
                <!-- <button @click="cart.increase(item.id)" class="px-2 border">+</button> -->
                <!-- <button @click="cart.increase(item?.product.id)" class="px-2 border">+</button> -->
                <button @click="cart.updateQuantity(item.product.id, item.quantity + 1)" class="px-2 border">+</button>
                <p><button @click="cart.removeFromCart(item.product.id)" class="px-2 border">Ò³Ð°Ð·Ñ„</button></p>
            </div>



            <!-- <div class="flex items-center gap-2 mt-2">
                <button @click="cart.updateQuantity(item.product?.id, item?.quantity - 1)">-</button>
                <p>{{ item?.product.id }}</p>

                <input type="number" v-model="item?.quantity" class="w-16 border rounded text-center" />

                <button @click="cart.updateQuantity(item?.product.id, item?.quantity + 1)">+</button>
            </div> -->



            <strong>
                <!-- {{ (item?.price * item?.quantity).toLocaleString() }} ØªÙˆÙ…Ø§Ù† -->
                <!-- {{ total.toLocaleString() }} ØªÙˆÙ…Ø§Ù† -->
                <!-- {{ (item?.price ?? 0) * (item?.quantity ?? 1) }} ØªÙˆÙ…Ø§Ù† -->
                {{ total }} ØªÙˆÙ…Ø§Ù†
                <!-- {{ cart.totalPriceStore }} -->
                <!-- {{ cart.totalPrice }} -->
            </strong>
        </div>
    </div>
</template>



<!-- 2ï¸âƒ£ Ø¨Ù‡Ø¨ÙˆØ¯ ØªÙ…ÛŒØ²ØªØ± (Computed â€“ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ) -->
<!-- <script setup>
import { computed } from 'vue'
import { useCartStore3 } from '@/stores/cart'

const { item } = defineProps({
  item: {
    type: Object,
    required: true
  }
})

const cart = useCartStore3()

const price = computed(() => Number(item.product.price))
const total = computed(() => price.value * item.quantity)
</script> -->







<!-- âœ… Ø±Ø§Ù‡â€ŒØ­Ù„ Ø¯Ø±Ø³Øª (Ø§ØµÙˆÙ„ÛŒ)/ -->
<!-- CartItem.vue (Ø§ØµÙ„Ø§Ø­ template) -->
<!-- <template>
  <div class="border rounded p-3">
    <h3 class="font-semibold">
      {{ item.product.title }}
    </h3>

    <p class="text-sm text-gray-500">
      Ù‚ÛŒÙ…Øª ÙˆØ§Ø­Ø¯:
      {{ Number(item.product.price).toLocaleString() }} ØªÙˆÙ…Ø§Ù†
    </p>

    <div class="flex items-center justify-between mt-2">
      <div class="flex items-center gap-2">
        <button
          @click="cart.decrease(item.product.id)"
          class="px-2 border"
        >
          âˆ’
        </button>

        <span>{{ item.quantity }}</span>

        <button
          @click="cart.increase(item.product.id)"
          class="px-2 border"
        >
          +
        </button>
      </div>

      <strong>
        {{
          (Number(item.product.price) * item.quantity).toLocaleString()
        }}
        ØªÙˆÙ…Ø§Ù†
      </strong>
    </div>
  </div>
</template> -->


<!-- 3ï¸âƒ£ Ø§Ú¯Ø± Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ú©Ø¯Øª Ø­Ø±ÙÙ‡â€ŒØ§ÛŒâ€ŒØªØ± Ø´ÙˆØ¯ ðŸ‘‡
Ú¯Ø²ÛŒÙ†Ù‡ Ø¨Ù‡ØªØ±: Ø³Ø§Ø®ØªØ§Ø± item Ø±Ø§ Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ú©Ù† (Ø¯Ø± store) -->

<!-- Ø¨Ù‡ Ø¬Ø§ÛŒ Ø§ÛŒÙ†: -->
<!-- {
  product: {...},
  quantity: 1
} -->
<!-- Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒ Ø§ÛŒÙ† Ø±Ø§ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒ: -->
<!-- {
  id: product.id,
  title: product.title,
  price: Number(product.price),
  quantity: 1
} -->
